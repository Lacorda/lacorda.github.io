(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8c3f3816"],{"17a4":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("RContainer",[s("Upload")],1)},o=[],r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("HlgUpload",{ref:"upload",attrs:{drag:"",chunked:"",oss:"",region:e.region,"access-key-id":e.accessKeyId,"access-key-secret":e.accessKeySecret,"sts-token":e.stsToken,bucket:e.bucket,"chunk-size":524288,"on-success":e.handleSuccess,"on-error":e.handleError,"on-progress":e.handleProgress,data:e.uploadData,"before-upload":e.beforeUpload,"upload-object-key":e.fileName}},["progress"===e.status?[s("div",{directives:[{name:"loading",rawName:"v-loading",value:"progress"===e.status,expression:"status === 'progress'"}],staticClass:"loading",staticStyle:{width:"80px",height:"80px"}}),s("div",[e._v("文件上传中"+e._s(e.progress)+"%")])]:"success"===e.status?[s("HlgInfo",{attrs:{type:"success"}},[e._v("上传成功")])]:"error"===e.status?[s("div",[e._v("网络连接错误, 上传中断 "),s("HlgButton",{attrs:{type:"text"},on:{click:function(t){return t.stopPropagation(),e.onReupload(t)}}},[e._v("继续上传")])],1),s("HlgButton",[e._v("重新上传")])]:[s("div",[e._v("将文件拖到此处，或 "),s("HlgButton",{attrs:{type:"text"}},[e._v("点击上传")])],1)]],2),s("div",{staticStyle:{"margin-top":"24px"}},[e._v(" 上传到： "),s("HlgSelect",{attrs:{placeholder:"请选择"},model:{value:e.uploadTo,callback:function(t){e.uploadTo=t},expression:"uploadTo"}},e._l(e.options,(function(e){return s("HlgOption",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),s("div",[e._v(e._s(e.url))])],1)},l=[],n=(s("d3b7"),s("99af"),s("b0c0"),s("bc3a")),c={data:function(){return{url:"",status:"",progress:0,uploadData:{upload_type:"pc"},bucket:"hlgcdn",region:"oss-cn-hangzhou",accessKeyId:"",accessKeySecret:"",stsToken:"",fileName:"",uploadTo:"tbgr-crm/",options:[{value:"tbgr-crm/",label:"欢乐逛-短信"},{value:"tbgr-trade/waybill-bg/",label:"欢乐逛-快递模板底图"},{value:"tbgr/promotion/tool/cloud/",label:"欢乐逛-云币"},{value:"tbgr-trade/template/",label:"欢乐逛-打单"},{value:"tbgr-trade-dev/template/",label:"欢乐逛-打单-预发"},{value:"gdd/template/",label:"逛打单"},{value:"mini-hudong/coupon/lottie/",label:"欢乐送券-关注送券动效皮肤"},{value:"tbgr-trade/sf-template/",label:"欢乐逛-打单-顺丰"},{value:"tbgr-trade/express-logo/",label:"欢乐逛-打单-快递logo"},{value:"huanleguang/",label:"欢乐逛官网"},{value:"tbgr-activity/",label:"欢乐逛-活动"}]}},mounted:function(){var e=this;n.get("//2tbgr.huanleguang.com/oss/token?bucket=".concat(this.bucket,"&test_token_id=3215139_ui_test")).then((function(t){var s=t.data.result.token;e.accessKeyId=s.access_key_id,e.accessKeySecret=s.access_key_secret,e.stsToken=s.security_token}))},methods:{beforeUpload:function(e){return this.uploadTo?(this.fileName="".concat(this.uploadTo).concat(e.name),this.$nextTick()):(this.$message.error("你要上传到哪儿去？？？"),Promise.reject())},handleSuccess:function(e,t){this.status="success",this.progress=100,this.url="https://hlgcdn.oss-cn-hangzhou.aliyuncs.com/"+e.name},handleError:function(e,t,s){this.status="error",console.log(e,t,s),e.message&&this.$message.error(e.message)},handleProgress:function(e,t){console.log(e),"progress"===e.type&&(this.status="progress",this.progress=parseInt(e.percent,10))},onReupload:function(){this.$refs.upload.submit()}}},u=c,i=s("2877"),d=Object(i["a"])(u,r,l,!1,null,null,null),p=d.exports,g={components:{Upload:p}},h=g,b=Object(i["a"])(h,a,o,!1,null,null,null);t["default"]=b.exports},"99af":function(e,t,s){"use strict";var a=s("23e7"),o=s("d039"),r=s("e8b5"),l=s("861d"),n=s("7b0b"),c=s("50c4"),u=s("8418"),i=s("65f0"),d=s("1dde"),p=s("b622"),g=s("2d00"),h=p("isConcatSpreadable"),b=9007199254740991,v="Maximum allowed index exceeded",f=g>=51||!o((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),m=d("concat"),k=function(e){if(!l(e))return!1;var t=e[h];return void 0!==t?!!t:r(e)},y=!f||!m;a({target:"Array",proto:!0,forced:y},{concat:function(e){var t,s,a,o,r,l=n(this),d=i(l,0),p=0;for(t=-1,a=arguments.length;t<a;t++)if(r=-1===t?l:arguments[t],k(r)){if(o=c(r.length),p+o>b)throw TypeError(v);for(s=0;s<o;s++,p++)s in r&&u(d,p,r[s])}else{if(p>=b)throw TypeError(v);u(d,p++,r)}return d.length=p,d}})}}]);
//# sourceMappingURL=chunk-8c3f3816.f265be7b.js.map